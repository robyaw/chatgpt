<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>D6 Dice</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      display: grid;
      place-items: center;
      height: 100vh;
      margin: 0;
      background: #f6f7fb;
    }

    .stage {
      perspective: 800px;
      display: grid;
      gap: 16px;
      justify-items: center;
    }

    .cube {
      position: relative;
      width: 120px;
      height: 120px;
      transform-style: preserve-3d;
      transition: transform 650ms cubic-bezier(.2,.8,.2,1);
    }

    .face {
      position: absolute;
      inset: 0;
      background: white;
      border: 3px solid #222;
      border-radius: 18px;
      display: grid;
      place-items: center;
      box-shadow: 0 12px 28px rgba(0,0,0,.12);
    }

    /* Position faces (half the cube size = 60px) */
    .front  { transform: translateZ(60px); }
    .back   { transform: rotateY(180deg) translateZ(60px); }
    .right  { transform: rotateY(90deg) translateZ(60px); }
    .left   { transform: rotateY(-90deg) translateZ(60px); }
    .top    { transform: rotateX(90deg) translateZ(60px); }
    .bottom { transform: rotateX(-90deg) translateZ(60px); }

    /* Pips */
    .pips {
      width: 78px;
      height: 78px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(3, 1fr);
      gap: 8px;
    }
    .pip {
      width: 14px;
      height: 14px;
      background: #111;
      border-radius: 50%;
      justify-self: center;
      align-self: center;
      opacity: 0;
    }
    .pip.on { opacity: 1; }

    button {
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid #ccc;
      background: white;
      cursor: pointer;
      font-weight: 600;
    }
    button:active { transform: translateY(1px); }

    .readout { font-weight: 700; }
  </style>
</head>
<body>
  <div class="stage">
    <div id="cube" class="cube" aria-label="dice">
      <div class="face front"  data-face="1"></div>
      <div class="face back"   data-face="6"></div>
      <div class="face right"  data-face="3"></div>
      <div class="face left"   data-face="4"></div>
      <div class="face top"    data-face="2"></div>
      <div class="face bottom" data-face="5"></div>
    </div>

    <button id="rollBtn">Roll ðŸŽ²</button>
    <div class="readout">Result: <span id="result">â€”</span></div>
  </div>

  <script>
    const cube = document.getElementById("cube");
    const resultEl = document.getElementById("result");
    const rollBtn = document.getElementById("rollBtn");

    // Face -> rotation that brings that face to the front
    // (Based on how we placed faces above)
    const rotations = {
      1: { x: 0,   y: 0   },   // front
      6: { x: 0,   y: 180 },   // back
      3: { x: 0,   y: -90 },   // right to front
      4: { x: 0,   y: 90  },   // left to front
      2: { x: -90, y: 0   },   // top to front
      5: { x: 90,  y: 0   },   // bottom to front
    };

    // Pip layouts in a 3x3 grid (positions 0..8)
    const pipMap = {
      1: [4],
      2: [2, 6],
      3: [2, 4, 6],
      4: [0, 2, 6, 8],
      5: [0, 2, 4, 6, 8],
      6: [0, 2, 3, 5, 6, 8],
    };

    function makeFace(n) {
      const wrapper = document.createElement("div");
      wrapper.className = "pips";
      for (let i = 0; i < 9; i++) {
        const pip = document.createElement("div");
        pip.className = "pip" + (pipMap[n].includes(i) ? " on" : "");
        wrapper.appendChild(pip);
      }
      return wrapper;
    }

    // Populate faces with pips
    document.querySelectorAll(".face").forEach(face => {
      const n = Number(face.dataset.face);
      face.appendChild(makeFace(n));
    });

    function roll() {
      // Random result
      const n = 1 + Math.floor(Math.random() * 6);

      // Add extra spins so it looks like a roll
      const spinX = 360 * (2 + Math.floor(Math.random() * 3));
      const spinY = 360 * (2 + Math.floor(Math.random() * 3));

      const { x, y } = rotations[n];
      cube.style.transform = `rotateX(${spinX + x}deg) rotateY(${spinY + y}deg)`;

      resultEl.textContent = n;
    }

    rollBtn.addEventListener("click", roll);

    // Optional: press space to roll
    window.addEventListener("keydown", (e) => {
      if (e.code === "Space") {
        e.preventDefault();
        roll();
      }
    });
  </script>
</body>
</html>